@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

:root{
  --brand-green: 22 163 74;   /* emerald-600 */
  --brand-yellow: 234 179 8;  /* amber-500 */
}

.bg-brand {
  background: linear-gradient(
    135deg,
    rgba(var(--brand-green), 0.08),
    rgba(var(--brand-yellow), 0.10)
  );
}

.ring-brand {
  box-shadow: 0 0 0 1px rgba(0,0,0,0.06), 0 10px 30px rgba(22,163,74,0.07);
}

.btn-brand {
  background: linear-gradient(
    135deg,
    rgba(var(--brand-green), 1),
    rgba(var(--brand-yellow), 1)
  );
  color: rgb(107, 103, 103);
}

.btn-brand:hover {
  color: rgb(191, 235, 115);
}


@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* ===== Pure CSS Top Loader ===== */
.toploader {
  position: fixed;
  inset: 0 0 auto 0;
  height: 3px;
  z-index: 9999;
  pointer-events: none;
}

.toploader::before {
  content: "";
  display: block;
  height: 100%;
  width: 40%;
  transform: translateX(-60%);
  background: linear-gradient(90deg, #059669, #f59e0b);
  border-radius: 999px;
  animation: topldr-move 1.05s ease-in-out infinite;
}

@keyframes topldr-move {
  0% {
    transform: translateX(-60%);
    opacity: 0.35;
  }
  50% {
    transform: translateX(60%);
    opacity: 1;
  }
  100% {
    transform: translateX(160%);
    opacity: 0.35;
  }
}

@layer utilities {
  @keyframes io-blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.35; }
  }

  @keyframes io-spin-reveal {
    0% { transform: rotate(-12deg) scale(0.85); opacity: 0; filter: blur(10px); }
    70% { transform: rotate(0deg) scale(1.03); opacity: 1; filter: blur(0px); }
    100% { transform: rotate(0deg) scale(1); opacity: 1; filter: blur(0px); }
  }

  @keyframes io-fade-scale-in {
    0% { transform: scale(0.96); opacity: 0; filter: blur(8px); }
    100% { transform: scale(1); opacity: 1; filter: blur(0px); }
  }

  @keyframes io-morph-out {
    0% { transform: scale(1) rotate(0deg); opacity: 1; filter: blur(0px); }
    100% { transform: scale(1.12) rotate(10deg); opacity: 0; filter: blur(14px); }
  }

  @keyframes io-grain-animate {
    0%, 100% { transform: translate(0, 0); }
    10% { transform: translate(-3%, -2%); }
    20% { transform: translate(-6%, 2%); }
    30% { transform: translate(3%, -6%); }
    40% { transform: translate(-2%, 8%); }
    50% { transform: translate(-6%, 2%); }
    60% { transform: translate(8%, 0); }
    70% { transform: translate(0, 6%); }
    80% { transform: translate(-8%, 0); }
    90% { transform: translate(6%, 2%); }
  }

  .io-grain {
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='3' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    opacity: 0.014;
    animation: io-grain-animate 9s steps(10) infinite;
  }

  .io-spin-reveal { animation: io-spin-reveal 900ms cubic-bezier(.2,.9,.2,1) both; }
  .io-fade-scale-in { animation: io-fade-scale-in 700ms cubic-bezier(.2,.9,.2,1) both; }
  .io-morph-out { animation: io-morph-out 800ms cubic-bezier(.2,.9,.2,1) both; }
  .io-blink { animation: io-blink 900ms ease-in-out 2; }
}

/* Production-grade: reduced motion */
@media (prefers-reduced-motion: reduce) {
  .io-grain, .io-spin-reveal, .io-fade-scale-in, .io-morph-out, .io-blink {
    animation: none !important;
    transition: none !important;
  }
}

/* Smooth handoff: app settles in while intro plays */
html[data-intro="playing"] .intro-app {
  opacity: 0.96;
  transform: translateY(10px);
  transition: opacity 700ms ease, transform 700ms ease;
}

html[data-intro="done"] .intro-app {
  opacity: 1;
  transform: translateY(0);
  transition: opacity 700ms ease, transform 700ms ease;
}

@media (prefers-reduced-motion: reduce) {
  html[data-intro="playing"] .intro-app,
  html[data-intro="done"] .intro-app {
    transition: none !important;
    transform: none !important;
  }
}
